// global script object: 0


fun outer() {
    // outer call: 1

    // 2
    var x = "value"; // Upvalue: 0

    // decl: 3
    fun middle() {
        // call: 4

        // decl 5
        fun inner() {
            // call: 6

            print x;
        }

        print "create inner closure";
        return inner;
    }

    print "return from outer";
    return middle;
}

var mid = outer();
var in = mid();
in();
